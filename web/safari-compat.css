/* Safari Compatibility CSS */

/* Webkit prefixes for flexbox */
.flt-scene-host {
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}

/* Fix for Safari iframe rendering */
iframe {
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}

/* Safari grid support */
.flt-grid {
  display: -ms-grid;
  display: grid;
  -webkit-grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
}

/* Safari flexbox fixes */
.flt-flex {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
}

.flt-flex-column {
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
}

/* Safari smooth scrolling */
.flt-scroll {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}

/* Safari transform optimizations */
.flt-transform {
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
  -webkit-will-change: transform;
  will-change: transform;
}

/* Safari video/iframe container fixes */
.video-container {
  position: relative;
  overflow: hidden;
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
}

/* Safari specific iframe positioning fix */
@media screen and (-webkit-min-device-pixel-ratio: 1) {
  flt-platform-view {
    position: relative !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
  }

  flt-platform-view iframe {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    border: none !important;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
  }
}

/* Safari border-radius fix */
.flt-border-radius {
  -webkit-border-radius: inherit;
  border-radius: inherit;
  -webkit-background-clip: padding-box;
  background-clip: padding-box;
}

/* Safari box-shadow performance */
.flt-shadow {
  -webkit-box-shadow: inherit;
  box-shadow: inherit;
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
}

/* Safari aspect-ratio fallback */
.aspect-ratio-16-9 {
  position: relative;
  width: 100%;
  height: 0;
  padding-bottom: 56.25%; /* 16:9 aspect ratio */
}

.aspect-ratio-16-9 > * {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
